# Tribler - 4th Report

##Index

1. [Introduction] (#introduction)
2. [Degree of Testability] (#degree-of-testability)
  3. [Controllability] (#controllability)
  4. [Observability] (#observability)
  5. [Isolateability] (#isolateability)
  6. [Separation of concerns] (#separation-of-concerns)
  7. [Understandability] (#understandability)
  8. [Heterogeneity] (#heterogeneity)
9. [Test Statistics] (#test-statistics)
10. [Critical Analysis] (#critical-analysis)

***

### Introduction

Software testing consists of exercising the system with defined test cases and observing its behaviour to discover defects. A secondarily goal is to increase the confidence on the software correctness and to evaluate product quality. Software testing can be conducted as soon as executable software (even if partially complete) exists.

In this report, we will first evaluate the degree of testability of _Tribler_ and then present some test statistics.

***

###Degree of Testability

####Controllability

_Tribler_ contains specific classes to test the several functionalities of the application. Developers have the flexibility to change input parameters in the application as necessary for any given test, but network related variables are difficult to control. The API can also be tested with the classes created for that effect.

####Observability

_Tribler_ uses the [buildbot Jenkins] (http://jenkins.tribler.org/) for unit tests everytime there is a new build or a pull request. However, the existing information on this platform is not very extensive, being only possible to verify if the new build passed all the tests or not. Looking at the test classes, it's possible to understand that the tests' result is displayed in the command line and in screenshots taken during the testing.

####Isolateability

The isolateability of a concern it's a consequence of a good code organization and file separation. Inside the _Tribler_ [test folder](https://github.com/pedrofraga/tribler/tree/devel/Tribler/Test) we can see, by the file names, that there is a wealth of test types, making it relatively complete. Inside that folder, there is an [API](https://github.com/pedrofraga/tribler/tree/devel/Tribler/Test/API) directory, so we conclude that it is considerably easy to test the related functionalities too. Since _Tribler_ has positive aspects in the [Separation of concerns] (#separation-of-concerns) module, it was expected to have good results in this module too.

####Separation of concerns

We consider that _Tribler_ has a concrete and distinct project organization/division. There are some modules that represent big problems, which are divided by smaller problems: a project structure with positive aspects in every way, making it easier understand every _Tribler_ functionality. Since this project is well organized, the tests effectivness is considerably big, since it's possible to isolate small modules, allowing a complete project test. 

####Understandability

_Tribler_ it's a relatively big open source project, so it's important to have a clarifying code. After an analisys, we noticed that the only [documentation](https://github.com/pedrofraga/tribler/tree/devel/doc) present in this repository is about how to set up the development enviromnent. There's no information about the created API's, forcing deeper code analysis by new developers. However, we consider that the project files and code variables/methods have self explanatory names, with a low frequency of comments.

####Heterogeneity

_Tribler_ is a project with a certain degree of heterogeneity. It uses at least two external technologies, listed in the [documentation] (https://github.com/pedrofraga/tribler/tree/devel/doc):

* [**Dispersy**] (https://github.com/Tribler/dispersy) - Elastic Database System that is the backbone to Tribler's functionality;
* [**twisted**] (https://github.com/twisted) - Event Driven Networking Engine.

The tests for _Dispersy_ are on the Jenkins platform for _Tribler_, while _twisted_ has an independent set of tests.

***

###Test Statistics

Currently, _Tribler_ has [104 unit tests] (http://jenkins.tribler.org/job/Test_tribler_devel/1091/testReport/), divided by the different classes, that guarantee a 68% line coverage. Analysing the [coverage breakdown by file] (http://jenkins.tribler.org/job/Test_tribler_devel/1091/cobertura/_default_/), it's possible to see that all the main files have a pretty good code coverage. The next graphic shows the test converage by classes, files, conditionals and lines.

![Test coverage](./images/Test\ Coverage.png)

_Dispersy_ has its own set of tests, counting with [406 unit tests] (http://jenkins.tribler.org/job/Test_dispersy_devel/998/testReport/), with a line coverage of 75%.

***

###Critical Analysis

In conclusion, this project does a pretty good job verifying and validating new builds and pull requests, through a thorough testing process, that guarantees an almost 70% coverage. However, the documentation could definitely be improved as well as code comments which are lacking.
